$(function(){$("#example1").DataTable({responsive:!0,autoWidth:!1})}),$(".bt-add").click(function(){$("#writeForm").removeClass("edit-form").addClass("add-form").attr("action",base+"/users/addUser"),$("#modal-form .modal-title").html("Tambah User"),$("#password").attr({placeholder:"",required:!0}),$("#username").val(""),$("#level").val(""),$("#name").val("")}),$(".bt-edit").click(function(){$("#modal-form .modal-body .row").before('<div class="overlay d-flex justify-content-center align-items-center"><i class="fas fa-2x fa-sync fa-spin"></i></div>'),$("#modal-form .modal-title").html("Ubah User"),$("#password").attr({placeholder:"Kosongkan jika tidak dirubah",required:!1}),$("#mod-sub").attr("disabled",!1);var a=$(this).data("id");$.ajax({type:"post",url:base+"/users/getUser",data:"id="+a,dataType:"json",success:function(a){$("#modal-form .modal-body .overlay").remove();var e=a[0];$("#writeForm").removeClass("add-form").addClass("edit-form").attr("action",base+"/users/editUser/"+e.id),$("#username").val(e.username),$("#level").val(e.idLvl),$("#name").val(e.name)}})}),$(".bt-del").click(function(){var a=$(this).data("id"),e=$(this).data("name");$("#delId").val(a),$("#delName").html(e)}),$("#username").on("keyup",function(){var a=$(this).val(),e=$("#writeForm").attr("action"),s=e.substring(e.lastIndexOf("/")+1);$.ajax({type:"post",url:base+"/users/cekUsername",data:"username="+a+"&id="+s,success:function(a){console.log(a),"OK"==a?($("#username").removeClass("is-invalid"),$("#username").addClass("is-valid"),$("#mod-sub").attr("disabled",!1)):($("#username").removeClass("is-valid"),$("#username").addClass("is-invalid"),$("#mod-sub").attr("disabled",!0))}})});